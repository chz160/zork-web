<div class="location-panel" role="region" [attr.aria-label]="getAriaLabel()" aria-live="polite">
  <!-- Screen reader only comprehensive location text -->
  <div class="sr-only" aria-live="polite" aria-atomic="true">
    {{ getLocationText() }}
  </div>

  <!-- Panel header -->
  <div class="location-header">
    <h2 class="location-title">{{ roomName() }}</h2>
  </div>

  <!-- Room description -->
  <div class="location-description">
    <p>{{ roomDescription() }}</p>
  </div>

  <!-- Visible objects section -->
  @if (visibleObjects().length > 0) {
    <div class="location-section">
      <h3 class="section-title">Objects</h3>
      <ul class="object-list" role="list">
        @for (obj of visibleObjects(); track trackByObjectId($index, obj)) {
          <li class="object-item">
            <span class="object-name">{{ obj.name }}</span>
            @if (obj.properties?.isOpen !== undefined) {
              <span class="object-state" [class.object-state--open]="obj.properties?.isOpen">
                {{ obj.properties?.isOpen ? '(open)' : '(closed)' }}
              </span>
            }
            @if (obj.properties?.isLit) {
              <span class="object-state object-state--lit">ðŸ”¥ (lit)</span>
            }
          </li>
        }
      </ul>
    </div>
  }

  <!-- Available exits section -->
  <div class="location-section">
    <h3 class="section-title">Exits</h3>
    @if (exits().length > 0) {
      <div class="exits-container">
        <ul class="exit-list" role="list">
          @for (exit of exits(); track trackByDirection($index, exit)) {
            <li class="exit-item">
              <span class="exit-direction" [attr.aria-label]="exit.direction">
                {{ getDirectionAbbrev(exit.direction) }}
              </span>
              <span class="exit-label">{{ exit.direction }}</span>
            </li>
          }
        </ul>
        <p class="exit-hint">Use direction commands to move (e.g., "north" or "n")</p>
      </div>
    } @else {
      <p class="no-exits">No obvious exits</p>
    }
  </div>
</div>
